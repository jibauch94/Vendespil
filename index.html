<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vendespil</title>
    <link href="design.css" type="text/css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


</head>
<body>

<h1>Supercars</h1>

<p>Find alle ens brikker for at vinde spillet</p>

<button id="shuffle" onclick="app.shuffle()">Bland kort</button> <br>

<div class="game">
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
    <div class="card nomatch"></div>
</div>



<script>
    $(document).ready(function () {
       //var cars = ['Images/2016%Charger.jpg', 'Images/2016%20Charger.jpg', 'Images/BMW%20i8%20IFA.jpg', 'Images/BMW%20i8%20IFA.jpg', 'Images/Bugatti%20Chiron.jpg', 'Images/Bugatti%20Chiron.jpg', 'Images/camaro%20zl1%202017.jpg', 'Images/camaro%20zl1%202017.jpg', 'Images/LaFerrari.png', 'Images/LaFerrari.png', 'Images/challenger%202017.jpg', 'Images/challenger%202017.jpg', 'Images/GT-R%202017.jpg', 'Images/GT-R%202017.jpg', 'Images/LFA%202017.jpg', 'Images/LFA%202017.jpg'];
        //cars.forEach(function (image) {
           // var img = document.createElement('img');
            //img.src = image;
            //document.body.appendChild(img);

        var app;
        app = {
            //cars : ['Images/2016%Charger.jpg', 'Images/2016%20Charger.jpg', 'Images/BMW%20i8%20IFA.jpg', 'Images/BMW%20i8%20IFA.jpg', 'Images/Bugatti%20Chiron.jpg', 'Images/Bugatti%20Chiron.jpg', 'Images/camaro%20zl1%202017.jpg', 'Images/camaro%20zl1%202017.jpg', 'Images/LaFerrari.png', 'Images/LaFerrari.png', 'Images/challenger%202017.jpg', 'Images/challenger%202017.jpg', 'Images/GT-R%202017.jpg', 'Images/GT-R%202017.jpg', 'Images/LFA%202017.jpg', 'Images/LFA%202017.jpg'],

            cars: [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8],
            init: function () {
                app.shuffle();

            },
            shuffle: function () {
                var random = 0;
                var temp = 0;
                for (i = 1; i < app.cars.length; i++) {
                    random = Math.round(Math.random() * i);
                    console.log(random);
                    temp = app.cars[i];
                    app.cars[i] = app.cars[random];
                    app.cars[random] = temp;
                }
                app.assignCars();
                console.log(app.cars);
            },
            assignCars: function () {
                $('.card').each(function (index) {
                    $(this).attr('data-card-value', app.cars[index]);
                    //app.cars[index];
                });
                app.clickHandlers();
            },

            clickHandlers: function () {
                $('.card').on('click', function () {
                    $(this).html($(this).data('cardValue')).addClass('selected');
                    app.checkMatch();
                });

            },
            checkMatch: function () {
                if ($('.selected').length == 2) {
                    if ($('.selected').first().data('cardValue') == $('.selected').last().data('cardValue')) {
                        //remove cards
                        $('.selected').each(function(){
                          $(this).animate({opacity: 0}).removeClass('unmatch');
                        });
                        $('.selected').each(function() {
                            $(this).removeClass('selected');
                        });
                    } else {
                        //flip cards back
                        setTimeout(function () {
                        $('.selected').each(function(){
                            $(this).html('').removeClass('selected');
                        });
                        },1000);

                    }


                }
            }

        };
        app.init();
        document.getElementById('shuffle').onclick = app.shuffle, app.assignCars;
        //document.getElementsByClassName('card').onclick = app.clickHandlers;
    });

</script>

</body>



</html>